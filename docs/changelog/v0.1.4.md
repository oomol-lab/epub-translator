# Release v0.1.4

This release introduces flexible translation submission modes, allowing users to choose between single-language translation and bilingual output formats.

## ‚ö†Ô∏è Breaking Changes

### New Required Parameter: `submit`

The `translate()` function now requires a `submit` parameter:

**Before:**
```python
translate(source_path, target_path, language.ENGLISH, llm=llm)
```

**After:**
```python
from epub_translator import SubmitKind

translate(source_path, target_path, language.ENGLISH,
          submit=SubmitKind.APPEND_BLOCK, llm=llm)
```

For bilingual books (previous default behavior), use `SubmitKind.APPEND_BLOCK`.

## ‚ú® New Features

### Translation Submission Modes (#105)

Three modes for inserting translations:

- **`SubmitKind.REPLACE`**: Replace original with translation (single-language output)
- **`SubmitKind.APPEND_TEXT`**: Append as inline text (bilingual, continuous flow)
- **`SubmitKind.APPEND_BLOCK`** (Recommended): Append as separate paragraphs (bilingual, clear separation)

```python
# Bilingual book
translate(source_path, target_path, language.ENGLISH,
          submit=SubmitKind.APPEND_BLOCK, llm=llm)

# Single-language translation
translate(source_path, target_path, language.ENGLISH,
          submit=SubmitKind.REPLACE, llm=llm)
```

Related PR: https://github.com/oomol-lab/epub-translator/pull/105

### Platform Nodes Support (#105)

Improved handling of complex EPUB structures where block elements contain interleaved text content. Previously, text between block elements could be lost or misplaced.

Related PR: https://github.com/oomol-lab/epub-translator/pull/105

## üêõ Bug Fixes

### Non-Inline Element Preservation (#105)

When using `SubmitKind.REPLACE`, non-inline elements (like images) in the original block are now preserved.

### Quote Normalization (#105)

Added automatic conversion of special quotation marks to standard quotes in translated TOC and metadata, including French guillemets (¬´ ¬ª, ‚Äπ ‚Ä∫) and Chinese book title marks („Ää„Äã, „Äà„Äâ).

Related PR: https://github.com/oomol-lab/epub-translator/pull/105

## üì¶ Installation

```bash
pip install epub-translator==0.1.4
```

Or upgrade:

```bash
pip install --upgrade epub-translator
```

## Migration from v0.1.3

Add the `submit` parameter to your `translate()` calls. For bilingual books, use `SubmitKind.APPEND_BLOCK`.
